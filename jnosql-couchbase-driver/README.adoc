# Couchbase Driver

The Couchbase driver provides an API integration between Java and the database through a standard communication level.

This driver has support for two NoSQL API types: Document and Key-value.

== Installing

Maven
[source,xml]
----
<dependency>
    <groupId>org.eclipse.jnosql.communication</groupId>
    <artifactId>jnosql-couchbase-driver</artifactId>
    <version>VERSION</version>
</dependency>
----
Gradle
[source,groovy]
----
compile('org.eclipse.jnosql.communication:jnosql-couchbase-driver:VERSION')
----

== Configurations

Couchbase provides both a configuration programmatically or by the ```couchbase.properties``` file.
Check the ```CouchbaseConfigurations``` for more information.

== Features

Besides the default API, Couchbase has support for N1QL and search through the API.

[source,java]
----
CouchbaseDocumentConfiguration configuration = new CouchbaseDocumentConfiguration();

DocumentCollectionManagerFactory managerFactory = configuration.get();


CouchbaseDocumentCollectionManager entityManager = managerFactory.get(BUCKET_NAME);


 DocumentEntity entity = DocumentEntity.of("person", asList(Document.of("_id", "id"), Document.of("name", "name")));

entityManager.insert(entity);

List<DocumentEntity> entities = entityManager.n1qlQuery("select * from jnosql._default.person").collect(Collectors.toList());

----

It provides key-value extension as well:

[source,java]
----
CouchbaseKeyValueConfiguration configuration = new CouchbaseKeyValueConfiguration();
BucketManagerFactory factory = configuration.get();
BucketManager manager = factory.getBucketManager("bucket");
User user = new User("otavio");
manager.put("otaviojava", user);
Optional<Value> otavio = manager.get("otaviojava");
----

== Adding dependencies

If you are not using a Jakarta EE application server, you must add the Jakarta JSON Processing and Jakarta JSON Binding.

E.g.:

Maven
[source,xml]
----
<dependency>
    <groupId>org.eclipse</groupId>
    <artifactId>yasson</artifactId>
    <version>VERSION</version>
</dependency>

<dependency>
    <groupId>org.glassfish</groupId>
    <artifactId>javax.json</artifactId>
    <version>VERSION</version>
</dependency>
----
Gradle
[source,groovy]
----
compile('org.eclipse:yasson:1.0')
compile('org.glassfish:javax.json:1.1')
----
